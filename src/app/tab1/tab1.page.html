
<ion-content color="medium" class="ion-padding" [fullscreen]="true">
  <ion-header color="light" class="ion-no-padding" style="border-radius: 8px;">
    <ion-toolbar color="light" class="ion-padding-start ion-padding-end" style="border-radius: 8px;box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1), 0 2px 10px rgba(0, 0, 0, 0.08);" >

      <ion-thumbnail slot="start">
        <img alt="Silhouette of mountains" src="https://ionicframework.com/docs/img/demos/thumbnail.svg" style="border-radius: 8px;box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1), 0 2px 10px rgba(0, 0, 0, 0.08);"/>
      </ion-thumbnail>
        <ion-title size="large" class="ion-text-center">Earnest's Rewards</ion-title>
      <ion-button size="small" slot="end" color="medium" (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-toolbar>
  </ion-header>
<ion-grid>
  <ion-row>

    <ion-col size="6">
      <ion-card class="ion-padding-bottom ion-margin-top" color="light">
        <ion-card-header class="ion-no-padding ion-padding-start ion-padding-top ion-padding-end">
          <ion-card-title>Available Rewards</ion-card-title>
        </ion-card-header>
        <ion-card-content class="ion-no-padding">
        <ion-grid>
          <ion-row >
            <ion-col  *ngFor="let reward of rewards" size="6">
              <ion-button *ngIf="this.reward.value <= this.currentCustomer.balance" expand="block" (click)="selectReward(reward)" class="ion-no-padding ion-no-margin">

                <ion-card class="ion-no-margin">
                  <img alt="Silhouette of mountains" src="https://ionicframework.com/docs/img/demos/card-media.png" />
                  <ion-card-header class="ion-no-padding ion-padding-top ion-padding-left ion-padding-right">
                    <ion-card-subtitle>{{reward.text}}</ion-card-subtitle>
                  </ion-card-header>
                  <ion-card-content class="ion-no-padding ion-padding-top ion-padding-bottom">


                          <ion-text class="ion-bold">
                            {{reward.value}} points
                            </ion-text>
                  </ion-card-content>
                </ion-card>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
        </ion-card-content>
      </ion-card>
    </ion-col>

    <ion-col>
      <ion-row class="ion-no-margin ion-margin-bottom">
        <ion-col class="ion-no-padding-top"  size="12">
          <ion-card class="ion-no-margin ion-margin-top ion-margin-start ion-margin-end" color="light">
            <ion-card-header>
              <ion-card-title>Welcome, {{this.currentCustomer.name}}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <ion-grid>
                <ion-row>
                  <ion-col size="12">
                    <ion-text class="ion-bolder">
                    Pick a reward to redeem!
                    </ion-text>
                  </ion-col>
                  <ion-col size="12">
                    <ion-text class="ion-bold">
                    Total Points: {{this.currentCustomer.balance}} Points
                    </ion-text>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col size="12">
                    <ion-text>
                      Every 1 dollar = 5 points
                    </ion-text>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="this.selectedReward">
        <ion-col size="12">
          <ion-card class="ion-no-margin ion-margin-start ion-margin-end" color="light">
            <ion-card-header  class="ion-no-margin ">
              <ion-card-title>Redeeming a {{this.selectedReward.text}} Reward</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <ion-grid class="ion-no-padding">
                <ion-row>
                  <ion-col size="12">
                    <ion-text class="ion-bold ion-margin-bottom">
                     Please show this to the cashier to redeem.
                    </ion-text>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col size="12">
                   Existing Points: {{this.currentCustomer.balance}}
                  </ion-col>
                  <ion-col size="12">
                    Points After Redemption: {{this.currentCustomer.balance - this.selectedReward.value}}
                  </ion-col>
                </ion-row>
                <ion-row class="ion-padding-top">
                  <ion-col size="6">
                   <ion-button size="small" (click)="cancelRewardSelection()" color="danger"><ion-icon name="close"></ion-icon> Cancel</ion-button>
                  </ion-col>
                  <ion-col size="6" >
                    <ion-button size="small" (click)="redeemRewardSelection()" class="ion-float-end" color="success">Redeem <ion-icon name="diamond-outline"></ion-icon></ion-button>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
</ion-grid>

</ion-content>
